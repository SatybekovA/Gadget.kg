{% extends 'main.html' %}

{% block content %}
  <h1>Product</h1>
  <div class="row mb-3">
    <div class="col-6">
      <a href="{% url 'markets:product_add' %}" class="btn btn-primary">Create a new product</a>
    </div>
  </div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Price</th>
      </tr>
    </thead>
    <tbody>
      {% for product in product %}
      <tr>
        <td>{{ product.name }}</td>
        <td>{{ product.price }}</td>
        <td>
          <a href="{% url 'markets:product_update' product.id %}" class="btn btn-outline-primary btn-sm me-2">Edit</a>
          <form method="post" action="{% url 'markets:product_delete' product.id %}" class="d-inline">
            {% csrf_token %}
            <button type="submit" class="btn btn-outline-danger btn-sm">Delete</button>
          </form>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="2">No product found.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %} 